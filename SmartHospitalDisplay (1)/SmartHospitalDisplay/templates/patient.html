{% extends "base.html" %}

{% block title %}Patient Display - Wenlock Hospital{% endblock %}

{% block extra_head %}
<style>
    /* Full screen display optimizations */
    body {
        background: linear-gradient(135deg, #f8fafc, #e2e8f0);
    }
    
    .patient-header {
        background: linear-gradient(135deg, #2563eb, #1e40af);
        color: white;
        padding: 1rem 0;
        margin-bottom: 2rem;
        border-radius: 12px;
    }
    
    .welcome-message {
        font-size: 1.5rem;
        font-weight: 600;
        text-align: center;
        margin-bottom: 2rem;
        color: #1e293b;
    }
</style>
{% endblock %}

{% block content %}
<!-- Welcome Header -->
<div class="patient-header">
    <div class="container">
        <div class="text-center">
            <h1><i class="fas fa-user-friends me-3"></i>Patient Information Display</h1>
            <p class="mb-0 fs-5">Please check your token number and queue status below</p>
        </div>
    </div>
</div>

<!-- Error Container -->
<div id="errorContainer"></div>

<!-- Emergency Alerts Section -->
<div class="row mb-4" id="emergencyAlertsSection">
    <div class="col-12">
        <div id="alertsContainer">
            <!-- Dynamic alerts will be loaded here -->
        </div>
    </div>
</div>

<!-- Welcome Message -->
<div class="welcome-message">
    <i class="fas fa-info-circle text-primary me-2"></i>
    Current Token Numbers Being Served
</div>

<!-- Current Token Numbers Display -->
<div class="row mb-5">
    <div class="col-12">
        <div id="currentTokensContainer">
            <div class="text-center py-5">
                <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                    <span class="visually-hidden">Loading current tokens...</span>
                </div>
                <div class="mt-3">
                    <h5 class="text-muted">Loading current token information...</h5>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Queue Information Section -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header bg-info text-white">
                <h4 class="mb-0 text-center">
                    <i class="fas fa-list-ol me-2"></i>
                    Queue Status by Department
                </h4>
            </div>
            <div class="card-body p-4">
                <div id="queueContainer">
                    <div class="text-center py-5">
                        <div class="spinner-border text-info" style="width: 3rem; height: 3rem;" role="status">
                            <span class="visually-hidden">Loading queue information...</span>
                        </div>
                        <div class="mt-3">
                            <h5 class="text-muted">Loading queue information...</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Important Instructions -->
<div class="row mb-4">
    <div class="col-md-6">
        <div class="card border-primary">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">
                    <i class="fas fa-info-circle me-2"></i>
                    Important Instructions
                </h5>
            </div>
            <div class="card-body">
                <ul class="list-unstyled mb-0">
                    <li class="mb-2">
                        <i class="fas fa-check text-success me-2"></i>
                        Please be present when your token number is called
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-check text-success me-2"></i>
                        Carry all necessary documents and reports
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-check text-success me-2"></i>
                        Follow COVID-19 safety protocols
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-check text-success me-2"></i>
                        Maintain social distancing in waiting areas
                    </li>
                </ul>
            </div>
        </div>
    </div>
    
    <div class="col-md-6">
        <div class="card border-info">
            <div class="card-header bg-info text-white">
                <h5 class="mb-0">
                    <i class="fas fa-phone me-2"></i>
                    Emergency Contacts
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-6">
                        <strong>Emergency:</strong><br>
                        <span class="text-danger fs-4">108</span>
                    </div>
                    <div class="col-6">
                        <strong>Reception:</strong><br>
                        <span class="text-primary fs-5">0824-2444-444</span>
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-6">
                        <strong>Pharmacy:</strong><br>
                        <span class="text-success">Ext: 123</span>
                    </div>
                    <div class="col-6">
                        <strong>Lab Reports:</strong><br>
                        <span class="text-info">Ext: 456</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Hospital Services Information -->
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header bg-secondary text-white">
                <h5 class="mb-0 text-center">
                    <i class="fas fa-hospital me-2"></i>
                    Available Services & Departments
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3 col-sm-6 mb-3">
                        <div class="text-center">
                            <i class="fas fa-heart text-danger fa-2x mb-2"></i>
                            <h6>Cardiology</h6>
                            <small class="text-muted">Heart Care</small>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-3">
                        <div class="text-center">
                            <i class="fas fa-bone text-warning fa-2x mb-2"></i>
                            <h6>Orthopedics</h6>
                            <small class="text-muted">Bone & Joint Care</small>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-3">
                        <div class="text-center">
                            <i class="fas fa-child text-info fa-2x mb-2"></i>
                            <h6>Pediatrics</h6>
                            <small class="text-muted">Child Care</small>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-3">
                        <div class="text-center">
                            <i class="fas fa-user-md text-primary fa-2x mb-2"></i>
                            <h6>General Medicine</h6>
                            <small class="text-muted">General Consultation</small>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-3">
                        <div class="text-center">
                            <i class="fas fa-female text-pink fa-2x mb-2"></i>
                            <h6>Gynecology</h6>
                            <small class="text-muted">Women's Health</small>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-3">
                        <div class="text-center">
                            <i class="fas fa-cut text-success fa-2x mb-2"></i>
                            <h6>Surgery</h6>
                            <small class="text-muted">Surgical Procedures</small>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-3">
                        <div class="text-center">
                            <i class="fas fa-eye text-teal fa-2x mb-2"></i>
                            <h6>Ophthalmology</h6>
                            <small class="text-muted">Eye Care</small>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-3">
                        <div class="text-center">
                            <i class="fas fa-pills text-purple fa-2x mb-2"></i>
                            <h6>Pharmacy</h6>
                            <small class="text-muted">Medications</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Auto-refresh Notice -->
<div class="text-center mt-4">
    <small class="text-muted">
        <i class="fas fa-sync-alt me-1"></i>
        This display automatically refreshes every 15 seconds to show the latest information
    </small>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/patient.js') }}"></script>
{% endblock %}
